:root {
  --color-1: hsl(0, 100%, 50%);
  --color-2: hsl(100, 100%, 50%);
  --color-3: hsl(280, 100%, 50%);
  --color-4: hsl(54, 100%, 50%);

  --size: 2em;
  --thickness: 0.5em;
  --lat: calc((2.5em - 0.5em) / 2);
  --offset: calc(var(--lat) - 0.5em);
}

.loader {
  /* position: relative; */
  width: var(--size);
  height: var(--size);
  transform: rotate(165deg);
  /* position: absolute; */
  top: calc(50% - 1.25em);  /* 2.5em / 2 */
  left: calc(50% - 1.25em);
}

.loader::before,
.loader::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  display: block;
  width: var(--thickness);
  height: var(--thickness);
  border-radius: calc(var(--thickness) / 2);
  transform: translate(-50%, -50%);
}

.loader::before {
  animation: beforeAnim 2s infinite;
}

.loader::after {
  animation: afterAnim 2s infinite;
}

@keyframes beforeAnim {
  0% {
    width: var(--thickness);
    box-shadow:
      var(--lat) calc(-1 * var(--offset)) var(--color-1),
      calc(-1 * var(--lat)) var(--offset) var(--color-3);
  }
  35% {
    width: var(--size);
    box-shadow:
      0 calc(-1 * var(--offset)) var(--color-1),
      0 var(--offset) var(--color-3);
  }
  70% {
    width: var(--thickness);
    box-shadow:
      calc(-1 * var(--lat)) calc(-1 * var(--offset)) var(--color-1),
      var(--lat) var(--offset) var(--color-3);
  }
  100% {
    box-shadow:
      var(--lat) calc(-1 * var(--offset)) var(--color-1),
      calc(-1 * var(--lat)) var(--offset) var(--color-3);
  }
}

@keyframes afterAnim {
  0% {
    height: var(--thickness);
    box-shadow:
      var(--offset) var(--lat) var(--color-2),
      calc(-1 * var(--offset)) calc(-1 * var(--lat)) var(--color-4);
  }
  35% {
    height: var(--size);
    box-shadow:
      var(--offset) 0 var(--color-2),
      calc(-1 * var(--offset)) 0 var(--color-4);
  }
  70% {
    height: var(--thickness);
    box-shadow:
      var(--offset) calc(-1 * var(--lat)) var(--color-2),
      calc(-1 * var(--offset)) var(--lat) var(--color-4);
  }
  100% {
    box-shadow:
      var(--offset) var(--lat) var(--color-2),
      calc(-1 * var(--offset)) calc(-1 * var(--lat)) var(--color-4);
  }
}
